apiVersion: v1
kind: Secret
metadata:
  name: {{ index .Values "cert-manager" "caSecretName" }}
  namespace: {{ index .Values "cert-manager" "namespace" }}
type: Opaque
data:
  # cat api.auth.domivice.dev.key | base64
  tls.crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUdEekNDQS9lZ0F3SUJBZ0lVWGRkNEVXeWdleGozZW4zeWlKekZwMG5pTW9jd0RRWUpLb1pJaHZjTkFRRUwKQlFBd2daVXhDekFKQmdOVkJBWVRBa05CTVE4d0RRWURWUVFJREFaUmRXVmlaV014RVRBUEJnTlZCQWNNQ0UxdgpiblJ5WldGc01SRXdEd1lEVlFRS0RBaEViMjFwZG1salpURUxNQWtHQTFVRUN3d0NTVlF4SFRBYkJnTlZCQU1NCkZFUnZiV2wyYVdObElFUmxkbVZzYjNCdFpXNTBNU013SVFZSktvWklodmNOQVFrQkZoUnpkWEJ3YjNKMFFHUnYKYldsMmFXTmxMbU52YlRBZ0Z3MHlNekEwTWpneE9UQXlNekJhR0E4eU1EVXpNRFF5TURFNU1ESXpNRm93Z1pVeApDekFKQmdOVkJBWVRBa05CTVE4d0RRWURWUVFJREFaUmRXVmlaV014RVRBUEJnTlZCQWNNQ0UxdmJuUnlaV0ZzCk1SRXdEd1lEVlFRS0RBaEViMjFwZG1salpURUxNQWtHQTFVRUN3d0NTVlF4SFRBYkJnTlZCQU1NRkVSdmJXbDIKYVdObElFUmxkbVZzYjNCdFpXNTBNU013SVFZSktvWklodmNOQVFrQkZoUnpkWEJ3YjNKMFFHUnZiV2wyYVdObApMbU52YlRDQ0FpSXdEUVlKS29aSWh2Y05BUUVCQlFBRGdnSVBBRENDQWdvQ2dnSUJBTWxNeXUwSUZqcm9CTkVlClNCWkpOMTEyWWR6WDVMRk9UVi90ajQvTlBqTFNBY29OaWpxOFJWUDVjOFZqYjVyakdkMnY5QmpJbVRERmhUL2cKa3FuMWdPUmk0SVc5dlpBZWQ4YmVmNzNMWHFoK0hrY1I2YlNhVTdpdElMZk5HMDlVRi9HT3Z4V3Z0WHVLVnVQUQo5MzRIVVhSNzdUMUVISUZReWJ4dTluMncyV0s2d2RhUkdvVXF2NzFhZlB4ZzN1SnFLelZaQWNPVnIrN09RRGhECjlnY3phakZTZk4vOVRXWno0S2RzQmxkUVN5YlFRRTE1c1dLcittZmJoSjBuNWQrZlhGWEhqOGMyTWhDSWVHMXAKbTRxd0JjZGwyYjBFdHQwREVZYnZuNmc1QnA2TUFraEsvSFYrdnZtSS80TW1oS2NiZ3g4WVNuTFkrRVFKYWdoTQpST0MzeHdPRi9tRk9XSXpERGp5aHo2T3dVWVdSS0NZU1g2cGhabHk3UEJpZERpNUJKYkxucVVLNnZLazI0ZjFBCllMK0dScTN4UVJmMmwvQUNKYzg1Q1JWNDZ4bU1keFZuZE83YzNwMUY4SjV6M0pZT2ZmVjRtL2RVNTE4cmRZVU8Kd0RjUDRTRTFJR2o5QnZrTFlqaHU2ak9UREFQWUIzT2JhMDBJZUYrZWx5RU55NGc4cGJuNFZJYWZBeXcvVG9rNgpBa1lmNnVncllCNVZrVll6eFIzenZLVm1PZnFHZTdDZ2pldFdQczM5cWVER3VUQ3JpWTF1c2E4Um5ueENpUGlxCnpTeHZRcm9iSkt4OUdENTZGeEtadUxCb2lrVFk3MS9OSk5xNm9tYjRMbnFmRXJ2dExGWUo4djNLZldsQ0FieEwKVm1ScUs5OWg2Vk42YUMxcm94aVhTRHFIWVdTTEFnTUJBQUdqVXpCUk1CMEdBMVVkRGdRV0JCUkNaUExUMXFuaQo3c1p6aUZtZVJNSjFRNS9qN2pBZkJnTlZIU01FR0RBV2dCUkNaUExUMXFuaTdzWnppRm1lUk1KMVE1L2o3akFQCkJnTlZIUk1CQWY4RUJUQURBUUgvTUEwR0NTcUdTSWIzRFFFQkN3VUFBNElDQVFDOW9wVVRMMDN1MTlwSFBzS20KRGFsNW5Edm1qREphR1NuS3NDenBiZmI2MUZkS3h6aE12YnhxSWxxWWl6REpuckpIaGxUTUx4b0l2dlFya1MrSwptSzVUWG5WUWpkNTdzTXAydVEyNUphUHpxUUZxMG9UUWtobDl5ZDAzQ2Zxb2V2UFNtV2NPa2pjNVBuSDkvZURZCnNwRkN0VU9ydm9rTXhjQjlPTU8xQ1Z5NU85d3htU0ttdFhhcDZOSmJsUjNFWldqNStVSjlvTTlibVFienJadG8Kdm14bmpEQjJlTkhuZGtCR0RFVnhIL0Q3RlprYXRVdGFuY05sejRjV0V4VEJGMzBDQ1FNVlJmWHdKQ3pQTFQ4Vgo4cjNRN0pyTlBNd1M4M2w2OUhMYUxyRkMwdkFLYyt3ZVFDOUxSRFlTT2hXdHE3K0pIWGc0cXQ5RVBsSGVzckR2CjFEcWpRWEc0ajRmM0d4UTRSMlR0YkxTQjdRYURMOXIrRm9KOWdXakt5bXE0elFKY0NSN1pDNFVWUTZLV1ZtL3gKTi82WXErK1YrWW96b0tpd1QrdnExK2RYWldRUHBsMUZ0NGNOc253dG93dWFnUk0rSkhVa2I2bStvTHZ2VjRXTAo0cTRqSHNSTHhzOVBrUW1BaGZWZk94NUJ2ZTZMR0I0TGp5VHgrVGNiZ2lzVEVHR2Q1NjhYeCtkV3k2SG5YVU9aClpHWDBnK3JoTzhhOSs3K3I0OGdWVmZOTzFiY3grYXFTckhmMlVhRGNoaEJvcTVHSXNuZzdBWXdxWElVemhVS2sKcWtFQmdNeUxVckhTQlVUUTdXVkxTNGFrQjZ5WlNPWmtWS3RrQ2RCMEREM0pYb2NuS2crbkJyNTNyRjlGaTRqUgo1SWdBR0ZiSmEwbVZGcnVvekp2NlFCU3VDZz09Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K
  tls.key: LS0tLS1CRUdJTiBQUklWQVRFIEtFWS0tLS0tCk1JSUpRUUlCQURBTkJna3Foa2lHOXcwQkFRRUZBQVNDQ1Nzd2dna25BZ0VBQW9JQ0FRREpUTXJ0Q0JZNjZBVFIKSGtnV1NUZGRkbUhjMStTeFRrMWY3WStQelQ0eTBnSEtEWW82dkVWVCtYUEZZMithNHhuZHIvUVl5Smt3eFlVLwo0SktwOVlEa1l1Q0Z2YjJRSG5mRzNuKzl5MTZvZmg1SEVlbTBtbE80clNDM3pSdFBWQmZ4anI4VnI3VjdpbGJqCjBQZCtCMUYwZSswOVJCeUJVTW04YnZaOXNObGl1c0hXa1JxRktyKzlXbno4WU43aWFpczFXUUhEbGEvdXprQTQKUS9ZSE0yb3hVbnpmL1UxbWMrQ25iQVpYVUVzbTBFQk5lYkZpcS9wbjI0U2RKK1hmbjF4Vng0L0hOaklRaUhodAphWnVLc0FYSFpkbTlCTGJkQXhHRzc1K29PUWFlakFKSVN2eDFmcjc1aVArREpvU25HNE1mR0VweTJQaEVDV29JClRFVGd0OGNEaGY1aFRsaU13dzQ4b2MranNGR0ZrU2dtRWwrcVlXWmN1endZblE0dVFTV3k1NmxDdXJ5cE51SDkKUUdDL2hrYXQ4VUVYOXBmd0FpWFBPUWtWZU9zWmpIY1ZaM1R1M042ZFJmQ2VjOXlXRG4zMWVKdjNWT2RmSzNXRgpEc0EzRCtFaE5TQm8vUWI1QzJJNGJ1b3prd3dEMkFkem0ydE5DSGhmbnBjaERjdUlQS1c1K0ZTR253TXNQMDZKCk9nSkdIK3JvSzJBZVZaRldNOFVkODd5bFpqbjZobnV3b0kzclZqN04vYW5neHJrd3E0bU5ickd2RVo1OFFvajQKcXMwc2IwSzZHeVNzZlJnK2VoY1NtYml3YUlwRTJPOWZ6U1RhdXFKbStDNTZueEs3N1N4V0NmTDl5bjFwUWdHOApTMVprYWl2ZlllbFRlbWd0YTZNWWwwZzZoMkZraXdJREFRQUJBb0lDQUFpSG9xUUk2VWZmb21SQkxnSDlrTE8xCk5WallHUEx5K3lSMVBiTEdTTTJwZkx0SlBhOGMxUEgwVUVvTkxML29ObmNtVVBsSmdzVmRoYXI5OFl2emdRQ20Kck53V3EybHpZRlVmNjk3NlRqQms5SEZtbW1wZUpLZkhvd0pUN1RucTBPZ0N5ZU0vbHZMM2c4TDJNQm8wSzlHcQpwUWlSNDRTYVhlaVQ5WDRHYjNOZFV0R3NXMkxycERqMGNZS1Fia1cvQk1YNHRNbW9IQ3ZLQ1BNUXJvZFRyUURnCklIQTVMaVkzanVUemRBVW0zdjdvRjRmL2RENHo1NmtMbXRjeUpFck9aQ09uU3IrMU9Kc05qNG1LL084cXFYcVMKYTJ3UjRjQ0VOQzNLY3NubEJMWmd1VHZhaUg0d3pUcVdnVkUvK05EdXFrbkRuV3Vnc3daRHdTR3g0Z1hXYUJ6TAptU3c1bllpSlcrUHEvVGNaend5ZXQ2NFp1NytLdHFuL3NxRVphaEVWRllueExIYjdzTG5OVUNOM0dMZnlROHVtCjJwZU4vYzFOcnRSVWsxUSsxbDRWeWgrVE9ybTVQeWZ0cHg3Z1J6SW9rVzNxY29JZnFuK1FqYkVETDYvUTYxbmMKSnYzNkpxbGJ1TzNxM2Q4d2IwSng0alFuWTl4YjVEVng5THpMbHo1azNrY0Y2MFlhaGNnajI0Y2o4a2hLbk1OQwpDd216NzkrK05oam1neFQzWUkrYytPVmk0cVhjc0Zwa0ROT1V2VCtqZUNVU05uNlhxbWJYZ0xjVytKakk4STBnCml4OGQvazJtRDRqaFdNUXNDYXQzejlLQXJRK1VUNm4xd1BjVjZsZUZTWGx5SDd1eHN0cWZ3MkNJa0RhOUdTaXMKOTVseEV1UEFlL2J3YUpzaWpsRVpBb0lCQVFEekFvS3JYc2p6T0tneHhxVWhLMkdxejZISkxQaGJXK240TUJvVQpPaVZmTnhDQVl6SnZjcGtTSlZqM1ZFU2lNVkhzM1JhMWYzQnk4ZXJxNWVReVo4Qkc2bDlOU0NuSDVqdDRJdnN4ClpPbFBoalVZeXFPTjNBWFdPcHR4VmFuNGlveHZpRHBLTG43MmU1WFIvYXJnWHZMRURuazQxZGZRdWNzN3BldE0KcjFRTkkweHo2bVNtK21tVCtJYXVWV1BWQkpyVTJjOURZbnZhV3BuRDUyUUpWblZFb2hYMVRkOVJqR25YLzREQgpybUxibzV1Um0yVURDSVhKR3pMMjBycXhHL0ZEWmZOeUthVjZhZ1Y1T05qZEZHNzZYanZpZjk4L2pCY2NrdjU0CjVnUHJvUTJrT1VWc1dLVi94Z0lrVHRHRVREK3ZJc2l1RmdIRFp0Rlk1L3dtcDh3NUFvSUJBUURVRDRBUkVmWTYKMW5KaSs2UHJPUnVBMEpkTDQ3YlVQeHFKbVp1cXY5V0ZvTFBsQjdEUm1vREJjRnpubHJ4Y0w0ZmN0bEFlWDBmOQppeDlBMXdCOGVPNC9lK1p5RHJhMlRMZi9Rb1F4eWIzT0dEdy9jbkV1U2JMaGlsVG1QWDVtSUxoQ0lNM3IxaFJJCmZUNDdBcGdxUUk5bElJME85VysrT1Bnb0dGVGxHc09KNG5PelcvcjF6Wk5mMEN2TTZsaENybzBKMmEzeGpSTG0Ka3Njc2ZyejRFT0ZheXh4YXpieU8xZzBCRWJ3d2h1bDhLaURMVzBMVzJqL3R5eXovMUNzZEdZUXo2MEVGVGJUSQpyT0tLVklqWm1kL3dyT1J1VzM4TlcyWm9uMnJucDcreUcxZFord2wyYzJCajF6WG1DOUw4ejgweE51a2gveWRZCk1nRytneDFaTGI3akFvSUJBRUhwdkdlZkhnSmFxOFJValJXaUhxdW1CY3Y3VnFIeEhGVWxOdTJsbDkxcm9oNHcKeWMxUTJCUUQ3VTJvbmJVZ2k0Z2pyN1VyQytVaG1RWjl0SmUzYkgvUHNtblQyUUZQZ1hIa2l4MnFzVjNRbVRaUQpRR3lKOFV0YU9pOVRmUGJkSFpwaTZPeVdEL25ySzRmNXRnK0ZzWE5jT2FVZzI1alJ6RDR4a3RFSi9WSlM4TG5BCktlemdueUp6bHBSU3RQRmlmbHlkZDRwZmZCaU4yb2M0aS9tOGFiSmtCSEMwM28zUCtDV09OKzVRenAra2tOMjkKdUhoS0ozK1UwUTRCdW9HdmdwRTFaZ0xoS1BFN01LRGd1bkc4eVIwLzBoNXRjTEJiM3lqdzlmVDA3cnRLdzloMwpjRTBpL2tEYUJGcTB4aitNTHZuaUJXeXlxMmZFeTZQQnlMTHpjSUVDZ2dFQUVGM0o0b2RpVzVRbGErSkQrbW1ECjUrTXhhaGYvQ2s1OGU5WXhIM0tDeGpkcTZ1ZzNDMVpEVGFxZ1lQZFBQa1lrMURIMTZRSXRpakhzalpLS1pSRG8KUWxvTHBRM2hxQnd2cnpHeEJpNnR5WFF4WWl3dzlBT1lITFFTYlZxZG9NQXh1RmpUeTduUUF2QTNsMUpSOENEZgpjRXljMW1TMjVSVjhnWXV2TWFkcEpBRW9NTldPZnQ0STI4SXpQek51OEdhTVdCQkd6bmUyMTdqSVNuVFZuTWVnCnZPTWtJeFh4MFl4UG9KOS95TGNBMmlaZU5aT3JpdTE1Tlo4U3NBUHQ5K2I2UHcrUEN4dStNaWExclR0cy9HNVYKekR0cnZlQ3Q0NWdFUlZyWVkxeWMvT0FEVTl4K0ZIZy9IaldENFdkVU4xTEtZVnY5ampRbEV6ZDR6djFMakpCdApSUUtDQVFCNS9EZVdCaHBsc0ZhSHpaZ2EybHhVUm9TQ0xZN3F5Q2pMYUtFNmk3MjVHNVlvUEZuTXprak53ODA4CkpaZmkwWUFhN1JRNDljU0JNRWtyazZQN3IvbHBQWU1wQjN4QmpDR21HVFpSUHg1TjRzRjFCZTFEelVlTjJSeWQKVk01bXF6by91dTREOG1mZnhtdElKV0M2aXBOdkZweis4YjdxTklncU5Sa0tkMW5PMXBGUWRZUW9CbGRpeWQ2ZAoyMGJRc3N1Rm9QOU1xQ1Nob2R0UVZ6aEFscERZOElCcm5tSFMxT2dRVUh4aTVLUjNLbG1jNHVIcUxRWnU4ejRQCit6UzRPOE1HdFJQNDF4blFaRS9scnl4Yi9vUWhQVWFVM0VOZUk4YUU3Zm82VFUwZmlNaDMweDQxcUhlNnl4ejIKa0lkdHIyL2JtSDN0WW8reU4xS0VLOFpoYkpKYQotLS0tLUVORCBQUklWQVRFIEtFWS0tLS0tCg==

{{ if .Capabilities.APIVersions.Has "cert-manager.io/v1" -}}
---
apiVersion: cert-manager.io/v1
kind: ClusterIssuer
metadata:
  name: {{ index .Values "cert-manager" "clusterIssuer" }}
spec:
  ca:
    secretName:  {{ index .Values "cert-manager" "caSecretName" }}
{{ end -}}